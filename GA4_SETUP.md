# Google Tag Manager (GTM) 配置指南

## 📊 当前配置状态

### ✅ 已配置的跟踪系统

**Google Tag Manager (GTM)**
- **容器ID**: `GTM-MLXZT29K`
- **状态**: ✅ 已正确配置并运行
- **功能**: 统一管理所有跟踪代码（包括GA4、Facebook Pixel等）

### 🎯 推荐配置方式

**通过GTM管理GA4** - 这是最佳实践，因为：
- ✅ 统一管理所有跟踪代码
- ✅ 无需修改网站代码
- ✅ 灵活配置和调试
- ✅ 更好的性能优化

## 🔧 在GTM中配置GA4

### 步骤1: 登录Google Tag Manager
1. 访问 [tagmanager.google.com](https://tagmanager.google.com)
2. 选择容器 `GTM-MLXZT29K`

### 步骤2: 创建GA4标签
1. 点击 **"标签"** → **"新建"**
2. 标签名称：`GA4 - 网站跟踪`
3. 标签配置：选择 **"Google Analytics: GA4 配置"**
4. 衡量ID：输入您的GA4衡量ID（格式：`G-XXXXXXXXXX`）

### 步骤3: 设置触发器
1. 触发器类型：**"所有页面"**
2. 保存标签

### 步骤4: 发布更改
1. 点击 **"提交"**
2. 添加版本名称：`添加GA4跟踪`
3. 点击 **"发布"**

## ✅ 验证配置

### 本地测试
```bash
# 启动开发服务器
npm run dev
# 访问 http://localhost:3000
```

### 生产环境测试
1. 访问您的网站
2. 打开浏览器开发者工具
3. 检查Network标签，查找GTM请求
4. 在GTM预览模式下验证GA4标签触发

## 📈 优势

- ✅ **统一管理**：所有跟踪代码在GTM中管理
- ✅ **无需代码修改**：添加新跟踪代码无需修改网站
- ✅ **灵活配置**：可以轻松启用/禁用跟踪功能
- ✅ **调试方便**：GTM预览模式便于调试
- ✅ **性能优化**：GTM自动优化脚本加载

## 📊 预期结果

配置完成后，您将在Google Analytics中看到：
- 实时用户数据
- 页面浏览量
- 用户行为分析
- 流量来源
- 设备信息
- 地理位置数据
